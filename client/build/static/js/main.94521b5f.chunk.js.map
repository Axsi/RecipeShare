{"version":3,"sources":["header_components/searchbar.js","header_components/favorite.js","header_components/signIn.js","header_components/mealtype.js","header_components/ingredients.js","header_components/logout.js","rbac_rules.js","can.js","header_components/menubuttons.js","header_components/menus.js","header_components/header.js","recipelist.js","homepage.js","messagebox.js","loginform.js","loginpage.js","registerform.js","registerpage.js","favoritepage.js","create_recipe_form.js","create_recipe_page.js","recipepage.js","createdpage.js","editpage.js","privateroute.js","index.js"],"names":["SearchBar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","searchInput","handleChange","bind","assertThisInitialized","handleSearch","checkEnter","event","name","target","value","setState","defineProperty","_this2","preventDefault","undefined","data","fetchData","method","body","JSON","stringify","headers","Content-Type","fetch","then","response","json","history","push","pathname","searchResult","rows","username","location","userID","catch","err","console","log","keyCode","react_default","a","createElement","className","placeholder","onKeyDown","onChange","onClick","src","React","Component","withRouter","Favorite","react_router_dom","to","title","SignIn","MealType","handleClick","Ingredients","selection","LogOut","handleSignOut","sessionStorage","removeItem","id","rules","guest","unauthorized","user","authorized","Can","role","action","permissions","unauthorizedPermissions","includes","authorizedPermissions","check","perform","yes","no","defaultProps","menuButtons","_React$Component","MenuButtons","_isMounted","menuVisible","showMenu","hideMenu","inherits","createClass","key","document","addEventListener","boolean","_this3","removeEventListener","assign","menus","Menus","setWrapperRef","handleClickOutside","node","wrapperRef","contains","onOutsideClick","Header","error","Browse","BrowseMenu","UserButton","UserMenu","ref","mealtype","ingredients","header_components_logout","can","header_components_searchbar","header_components_favorite","header_components_signIn","RecipeList","propResult","renderArticles","renderFavorites","renderTitle","renderCreations","length","_this4","_this5","map","recipe","recipeid","toString","image","recipetitle","description","HomePage","header_components_header","src_recipelist","MessageBox","usernameMessage","passwordMessage","existMessage","incorrectMessage","ImageWarning","LoginForm","password","handleSubmit","message","setItem","url","onSubmit","type","maxLength","messagebox","LoginPage","loginform","RegisterForm","checkName","checkPassword","usernameRegex","RegExp","passwordRegex","test","RegisterPage","registerform","FavoritePage","CreateRecipeForm","PhotoUpload","Username","UserID","PrepTime","CookTime","Servings","RecipeTitle","RecipeDescription","RecipeIngredients","RecipeDirections","RecipeID","BooleanPhotoUpload","BooleanUsername","BooleanUserID","BooleanPrepTime","BooleanCookTime","BooleanServings","BooleanMealType","BooleanRecipeTitle","BooleanRecipeDescription","BooleanRecipeIngredients","BooleanRecipeDirections","Required","recipeDetails","handleImage","getExtensions","checkValue","preptime","cooktime","servings","join","directions","SubmitOk","formData","FormData","append","photo","files","size","extension","img","Image","window","URL","createObjectURL","onload","width","height","filename","split","pop","states","keys","count","i","booleanStateKey","booleanStateObj","encType","accept","htmlFor","checked","CreateRecipePage","create_recipe_form","RecipePage","recipeIngredients","recipeDirections","addToFavorites","deleteRecipe","match","params","filter","d","accountid","ingredient","direction","CreatedPage","EditPage","PrivateRoute","_ref","component","rest","objectWithoutProperties","react_router","render","from","routing","exact","path","privateroute","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.94521b5f.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../style/searchbar.css';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass SearchBar extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            searchInput: null\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSearch = this.handleSearch.bind(this);\r\n        this.checkEnter = this.checkEnter.bind(this);\r\n    }\r\n\r\n    handleChange(event){\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleSearch(event){\r\n        event.preventDefault();\r\n        if((this.state.searchInput !== '')&&(this.state.searchInput !== null)&&(this.state.searchInput !== undefined)){\r\n            let data = this.state;\r\n            let fetchData = {\r\n                method: 'POST',\r\n                body: JSON.stringify(data),\r\n                headers: {'Content-Type': 'application/json;charset=utf-8'}\r\n            };\r\n            fetch('/search', fetchData)\r\n                .then(response=> response.json())\r\n                .then(data =>{\r\n                    this.props.history.push({\r\n                        pathname:\"/\", searchResult: data.rows,\r\n                        username: this.props.location.username,\r\n                        userID: this.props.location.userID,\r\n                        searchInput: this.state.searchInput\r\n                    });\r\n                }).catch(err=>{\r\n                console.log(err);\r\n            })\r\n        }\r\n    }\r\n\r\n    checkEnter(event){\r\n        if(event.keyCode === 13){\r\n            this.handleSearch(event);\r\n\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <li className=\"Search-Bar\">\r\n                <div className=\"Search\">\r\n                    <input className=\"Search-Input\" placeholder=\"Find a recipe\" name=\"searchInput\"\r\n                           onKeyDown={this.checkEnter} onChange={this.handleChange}/>\r\n                    <button className=\"Search-Button\" onClick={this.handleSearch}>\r\n                        <img className=\"Magnify-Icon\" src='https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-search-30.png?alt=media&token=4860d078-e8be-46e1-acae-e50e0f6efa4a'/>\r\n                    </button>\r\n                </div>\r\n            </li>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SearchBar);","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport '../style/favorite.css';\r\n\r\nclass Favorite extends React.Component{\r\n\r\n    render(){\r\n        return(\r\n            <li className=\"Favorite-Button\">\r\n                <Link to={{pathname:\"/favoritepage\",username: this.props.location.username,\r\n                    userID: this.props.location.userID}} className=\"Favorite-Tab\">\r\n                    <img className=\"Heart-Icon\" title=\"Your favorite recipes\"\r\n                         src='https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-heart-96.png?alt=media&token=52792857-9c9f-40a4-878d-8884322854ab'/>\r\n                </Link>\r\n            </li>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Favorite);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../style/signIn.css';\r\n\r\nclass SignIn extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    render(){\r\n        return(\r\n            <li className=\"Sign-In-Button\">\r\n                <Link to=\"/loginpage\" className=\"Sign-In\">\r\n                    <span>Sign In</span>\r\n                </Link>\r\n            </li>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SignIn;","import React from 'react';\r\nimport '../style/menu.css';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass MealType extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n    handleClick(event){\r\n        event.preventDefault();\r\n        fetch('/mealType/' + event.target.name)\r\n            .then(response=> response.json())\r\n            .then(data=>{\r\n                this.props.history.push({pathname:\"/\", searchResult: data.rows, username:this.props.location.username,\r\n                    userID: this.props.location.userID});\r\n            }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n    render(){\r\n        return(\r\n            <li className=\"Browse-Categories\">\r\n                <h3>Meal Type</h3>\r\n                <ul className=\"Browse-SubCategories\">\r\n                    <li>\r\n                        <a name=\"Breakfast\" onClick={this.handleClick}>Breakfast</a>\r\n                    </li>\r\n                    <li>\r\n                        <a name=\"Lunch\" onClick={this.handleClick}>Lunch</a>\r\n                    </li>\r\n                    <li>\r\n                        <a name=\"Dinner\" onClick={this.handleClick}>Dinner</a>\r\n                    </li>\r\n                    <li>\r\n                        <a name=\"Dessert\" onClick={this.handleClick}>Dessert</a>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(MealType);","import React from 'react';\r\nimport '../style/menu.css';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass Ingredients extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick(event){\r\n        event.preventDefault();\r\n        let selection = {searchInput: event.target.name};\r\n        let fetchData = {\r\n            method: 'POST',\r\n            body: JSON.stringify(selection),\r\n            headers: {'Content-Type': 'application/json;charset=utf-8'}\r\n        };\r\n\r\n        fetch('/search', fetchData)\r\n            .then(response=> response.json())\r\n            .then(data=>{\r\n                this.props.history.push({pathname:\"/\", searchResult: data.rows, username:this.props.location.username,\r\n                    userID: this.props.location.userID});\r\n            }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n    render(){\r\n        return(\r\n            <li className=\"Browse-Categories\">\r\n                <h3>Ingredient</h3>\r\n                <ul className=\"Browse-SubCategories\">\r\n                    <li>\r\n                        <a name=\"Beef\" onClick={this.handleClick}>Beef</a>\r\n                    </li>\r\n                    <li>\r\n                        <a name=\"Chicken\" onClick={this.handleClick}>Chicken</a>\r\n                    </li>\r\n                    <li>\r\n                        <a name=\"Pork\" onClick={this.handleClick}>Pork</a>\r\n                    </li>\r\n                    <li>\r\n                        <a name=\"Salmon\" onClick={this.handleClick}>Salmon</a>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Ingredients);","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport '../style/logout.css';\r\nimport'../style/user_features_menu.css'\r\n\r\nclass LogOut extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.handleSignOut = this.handleSignOut.bind(this);\r\n    }\r\n\r\n    handleSignOut(event){\r\n        event.preventDefault();\r\n        fetch('/logout')\r\n            .then(data=>{\r\n                sessionStorage.removeItem('username');\r\n                sessionStorage.removeItem('userID');\r\n                this.props.history.push({pathname: \"/\", data: 'guest'});\r\n            })\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            <li id=\"LogOut-Button\">\r\n                <a className=\"LogOut\" onClick={this.handleSignOut}>Sign out</a>\r\n            </li>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(LogOut);","const rules = {\r\n    guest: {\r\n        unauthorized: [\r\n            \"public-home-page:visit\",\r\n            \"signIn-page:visit\",\r\n            \"register-page:visit\",\r\n            \"recipe-list:visit\",\r\n            \"recipe-page:visit\"\r\n        ]\r\n    },\r\n    user: {\r\n        authorized: [\r\n            \"private-home-page:visit\",\r\n            \"recipe-list:visit\",\r\n            \"recipe-page:visit\",\r\n            \"own-recipe:edit\",\r\n            \"own-recipe:delete\",\r\n            \"favorite-recipe:add\",\r\n            \"favorite-recipe:remove\",\r\n            \"recipes:create\",\r\n            \"own-recipes-page:visit\"\r\n        ]\r\n    }\r\n};\r\n\r\nexport default rules;","import rules from \"./rbac_rules\";\r\n\r\nconst check = (rules, role, action, data)=>{\r\n    //check to see if the role of said user exists\r\n    const permissions = rules[role];\r\n    if(!permissions){\r\n        return false;\r\n    }\r\n    //your here, so that means the role exists, so now check to see if this role has unauthorized permission, and\r\n    //if the action they are trying to perform is including in said permissions\r\n    const unauthorizedPermissions = permissions.unauthorized;\r\n\r\n    if(unauthorizedPermissions && unauthorizedPermissions.includes(action)){\r\n        return true;\r\n    }\r\n\r\n    //now check to see if they have authorized access\r\n\r\n    const authorizedPermissions = permissions.authorized;\r\n\r\n    //I see so the authorizedPermissions[action] checks to see if said action exists in authorized role, if it does then puts the user data into that role action and executes to return a boolean\r\n    if(authorizedPermissions && authorizedPermissions.includes(action)){\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n//is props.data or just data in general what is in the yes?????\r\nconst Can = props =>\r\n    check(rules, props.role, props.perform, props.data) ? props.yes() :props.no();\r\n\r\nCan.defaultProps = {\r\n    yes: () => null,\r\n    no: () => null\r\n};\r\n\r\nexport default Can;","import React from 'react';\r\n\r\nfunction menuButtons(Component){\r\n    return class MenuButtons extends React.Component{\r\n        _isMounted = false;\r\n        constructor(props){\r\n            super(props);\r\n            this.state = {\r\n                menuVisible: false\r\n            };\r\n            this.showMenu = this.showMenu.bind(this);\r\n            this.hideMenu = this.hideMenu.bind(this);\r\n        }\r\n        showMenu(event){\r\n            event.preventDefault();\r\n            this._isMounted = true;\r\n            this.setState({menuVisible: true}, () => {\r\n                document.addEventListener('click', this.hideMenu);\r\n            });\r\n        }\r\n\r\n        hideMenu(boolean){\r\n            if(this._isMounted){\r\n                this.setState({menuVisible: boolean}, () => {\r\n                    document.removeEventListener('click', this.hideMenu);\r\n                });\r\n            }\r\n        }\r\n        componentWillUnmount() {\r\n            this._isMounted = false;\r\n            document.removeEventListener('click', this.hideMenu)\r\n        }\r\n        render(){\r\n            const props = {\r\n                showMenu: this.showMenu,\r\n                hideMenu: this.hideMenu,\r\n            };\r\n            return(\r\n                <Component menuVisible={this.state.menuVisible} {...props}/>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default menuButtons","import React from 'react';\r\n\r\nfunction menus(Component){\r\n    return class Menus extends React.Component{\r\n        constructor(props){\r\n            super(props);\r\n            this.setWrapperRef = this.setWrapperRef.bind(this);\r\n            this.handleClickOutside = this.handleClickOutside.bind(this);\r\n        }\r\n\r\n        componentDidMount() {\r\n            document.addEventListener('click', this.handleClickOutside);\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            document.removeEventListener('click', this.handleClickOutside);\r\n        }\r\n\r\n        setWrapperRef(node){\r\n            this.wrapperRef = node;\r\n        }\r\n\r\n        handleClickOutside(event){\r\n            //Node.contains() returns a boolean value indicating whether a node is a descendant of a given node.\r\n            //handleClickOutside determines if a mouse click outside the specified node(set as ref) occurred\r\n            if(this.wrapperRef && !this.wrapperRef.contains(event.target)){\r\n                this.props.onOutsideClick(false);\r\n            }\r\n        }\r\n        render(){\r\n            const props = {\r\n                setWrapperRef: this.setWrapperRef\r\n            };\r\n            return(\r\n                <Component {...props}/>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default menus","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport SearchBar from './searchbar';\r\nimport Favorite from './favorite';\r\nimport SignIn from './signIn';\r\nimport MealType from './mealtype';\r\nimport Ingredients from './ingredients';\r\nimport LogOut from './logout';\r\nimport '../style/header.css';\r\nimport '../style/browse.css';\r\nimport '../style/user_features.css';\r\nimport '../style/menu.css';\r\nimport '../style/user_features_menu.css';\r\nimport Can from '../can';\r\nimport menuButtons from './menubuttons';\r\nimport menus from './menus';\r\n\r\nclass Header extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            role: '',\r\n            username:'',\r\n            userID: null\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/authenticate')\r\n            .then(response=> response.json())\r\n            .then(data=>{\r\n                if(data){\r\n                    this.setState({role: 'user', username: sessionStorage.username,\r\n                        userID: sessionStorage.userID});\r\n                }else{\r\n                    this.setState({role:'guest'});\r\n                }\r\n            }).catch(error=>{\r\n            console.log('Error: ' + error);\r\n        })\r\n    }\r\n    //when logout is clicked this.props.location.data is compared to the current this.state.role, if different\r\n    //the this.state.role is changed. This also changes the rendering of user-button to sign-in button\r\n    componentDidUpdate() {\r\n        if(this.props.location.data != null && this.props.location.data !== this.state.role){\r\n            this.setState({role: this.props.location.data})\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const browseComp = (props)=>{\r\n            return (\r\n                <li className=\"Browse-Button\">\r\n                    <a className=\"Browse-Tab\" onClick={props.showMenu}>\r\n                        <span>BROWSE</span>\r\n                        <span> </span>\r\n                        <img className=\"Chevron-Down-Icon-Browse\" src='https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-chevron-down-26_browse.png?alt=media&token=aa6718c2-d6d7-487f-91e7-ee79eeb510d9'/>\r\n                    </a>\r\n                    {props.menuVisible ? <BrowseMenu onOutsideClick={props.hideMenu}/> : null}\r\n                </li>\r\n            )\r\n        };\r\n        const userComp = (props)=>{\r\n            return (\r\n                <li className=\"Account-Button\">\r\n                    <a className=\"User-Tab\" onClick={props.showMenu}>\r\n                        <div className=\"Account-User-Name\">{this.state.username}</div>\r\n                        <span className=\"Account-Chevron-Side\">\r\n                        <img className=\"Chevron-Down-Icon-Account\" src='https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-chevron-down-26.png?alt=media&token=9d3ad168-6235-4d8b-80f6-debbbba9ac5b'/>\r\n                    </span>\r\n                    </a>\r\n                    {props.menuVisible ? <UserMenu onOutsideClick={props.hideMenu}/> : null}\r\n                </li>\r\n            )\r\n        };\r\n        const browseMenuComp = (props)=>{\r\n            return(\r\n                <div className=\"Menu-Container\" ref={props.setWrapperRef}>\r\n                    <section className=\"Menu\">\r\n                        <ul className=\"Categories\">\r\n                            <MealType />\r\n                            <Ingredients />\r\n                        </ul>\r\n                    </section>\r\n                </div>\r\n            )\r\n        };\r\n        const userMenuComp = (props)=>{\r\n            return(\r\n                <div className=\"User-Menu-Container\" ref={props.setWrapperRef}>\r\n                    <section className=\"User-Menu\">\r\n                        <ul className=\"User-Categories\">\r\n                            <li>\r\n                                <Link className=\"Create-Recipe-link\" to={{\r\n                                    pathname:\"/createrecipe\",\r\n                                    username:this.state.username,\r\n                                    userID:this.state.userID\r\n                                }}\r\n                                >Create Recipe</Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link className=\"Created-link\" to={{\r\n                                    pathname:\"/createdpage\",\r\n                                    username:this.state.username,\r\n                                    userID:this.state.userID\r\n                                }}\r\n                                >Your Recipes</Link>\r\n                            </li>\r\n                            <li>\r\n                                <Link className=\"Favorites-link\" to={{\r\n                                    pathname:\"/favoritepage\",\r\n                                    username: this.state.username,\r\n                                    userID: this.state.userID\r\n                                }}\r\n                                >Favorite Recipes</Link>\r\n                            </li>\r\n                            <LogOut />\r\n                        </ul>\r\n                    </section>\r\n                </div>\r\n            )\r\n        };\r\n        const Browse = menuButtons(browseComp);\r\n        const UserButton = menuButtons(userComp);\r\n        const BrowseMenu = menus(browseMenuComp);\r\n        const UserMenu = menus(userMenuComp);\r\n        return(\r\n            <div className=\"Header-Container\">\r\n                <Can\r\n                    role={this.state.role}\r\n                    perform=\"private-home-page:visit\"\r\n                    yes={()=> (\r\n                        <ul className=\"Header-Nav\">\r\n                            <li className=\"Logo-Tab\">\r\n                                <Link to={{\r\n                                    pathname:\"/\",\r\n                                    username:this.state.username,\r\n                                    userID:this.state.userID}} className=\"Title\">\r\n                                    <img className=\"Logo-Img\" src='https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/utensils.png?alt=media&token=c08cf7d2-264e-40e7-a89f-973a6289c0a6'/>\r\n                                </Link>\r\n                            </li>\r\n                            <Browse />\r\n                            <SearchBar />\r\n                            <Favorite />\r\n                            <UserButton />\r\n                        </ul>\r\n                    )}\r\n                />\r\n                <Can\r\n                    role={this.state.role}\r\n                    perform=\"public-home-page:visit\"\r\n                    yes={()=> (\r\n                        <ul className=\"Header-Nav\">\r\n                            <li className=\"Logo-Tab\">\r\n                                <Link to=\"/\" className=\"Title\">\r\n                                    <img className=\"Logo-Img\" src='https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/utensils.png?alt=media&token=c08cf7d2-264e-40e7-a89f-973a6289c0a6'/>\r\n                                </Link>\r\n                            </li>\r\n                            <Browse />\r\n                            <SearchBar />\r\n                            <Favorite />\r\n                            <SignIn />\r\n                        </ul>\r\n                    )}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Header);","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './style/recipelist.css';\r\n\r\nclass RecipeList extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state ={\r\n            searchResult: [],\r\n            propResult: null,\r\n        };\r\n        this.renderArticles = this.renderArticles.bind(this);\r\n        this.renderFavorites = this.renderFavorites.bind(this);\r\n        this.renderTitle = this.renderTitle.bind(this);\r\n        this.renderCreations = this.renderCreations.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if((this.props.location.pathname === \"/favoritepage\") && (this.state.searchResult.length === 0)){\r\n            this.renderFavorites();\r\n        }else if((this.props.location.pathname === \"/createdpage\") && (this.state.searchResult.length === 0)){\r\n            this.renderCreations();\r\n        }else{\r\n            this.renderArticles();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.renderArticles();\r\n    }\r\n\r\n    renderArticles(){\r\n        if(((this.props.location.searchResult !== null) && (this.props.location.searchResult !== undefined))&&\r\n            (this.props.location.searchResult !== this.state.searchResult)){\r\n            this.setState({searchResult: this.props.location.searchResult,\r\n                propResult: this.props.location.searchResult});\r\n        }\r\n\r\n        if(this.state.propResult !== this.props.location.searchResult){\r\n            fetch('/recentRecipes')\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    this.setState({searchResult: data.rows, propResult: this.props.location.searchResult});\r\n                }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        }\r\n    }\r\n\r\n    renderFavorites(){\r\n        let userID = sessionStorage.userID;\r\n        fetch('/getFavorites/' + userID)\r\n            .then(response=> response.json())\r\n            .then(data=>{\r\n                this.setState({searchResult: data.rows, propResult: undefined});\r\n            }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    renderCreations(){\r\n        let userID = sessionStorage.userID;\r\n        fetch('/getCreations/' + userID)\r\n            .then(response=> response.json())\r\n            .then(data=>{\r\n                this.setState({searchResult: data.rows, propResult: undefined});\r\n            }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    renderTitle(){\r\n        if(this.props.location.pathname === \"/favoritepage\"){\r\n            return \"Favorite Recipes\"\r\n        }\r\n        if((this.props.location.pathname === \"/\") && (this.props.location.searchResult === undefined)){\r\n            return \"Recently Added\"\r\n        }\r\n        if((this.props.location.pathname === \"/createdpage\") && (this.props.location.searchResult === undefined)){\r\n            return \"Your Recipes\"\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div id=\"Search-Results\">\r\n                <h2 className=\"Recipe-List-Subject-Title\">{this.renderTitle()}</h2>\r\n                <section id=\"Grid-Selection\">\r\n                    {this.state.searchResult.length > 0 ? this.state.searchResult.map((recipe)=>(\r\n                            <article className=\"Recipe-Article\" key={recipe.recipeid.toString()}>\r\n                                <Link to={{pathname:\"/recipepage/\" + recipe.recipeid, username: this.props.location.username,\r\n                                    userID: this.props.location.userID}} className=\"Recipe-Link\">\r\n                                    <img className=\"Recipe-Image\" src={recipe.image}/>\r\n                                    <div className=\"Recipe-Article-Info\">\r\n                                        <h3 className=\"Recipe-Title\">{recipe.recipetitle}</h3>\r\n                                        <div className=\"Recipe-Description\">{recipe.description}</div>\r\n                                    </div>\r\n                                    <div className=\"Recipe-Creator\">\r\n                                        <span className=\"By\">By </span>\r\n                                        {recipe.username}</div>\r\n                                </Link>\r\n                            </article>\r\n                        )\r\n                    ):null}\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(RecipeList);","import React from 'react';\r\nimport Header from './header_components/header';\r\nimport RecipeList from './recipelist';\r\nimport './style/homepage.css';\r\nimport './can';\r\n\r\nclass HomePage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"Site-Content\">\r\n                <Header />\r\n                <RecipeList />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HomePage;","import React from 'react';\r\nimport './style/authenticationpages.css';\r\n\r\nclass MessageBox extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"Message-Container\">\r\n                <p className=\"Message\">{this.props.usernameMessage}</p>\r\n                <p className=\"Message\">{this.props.passwordMessage}</p>\r\n                <p className=\"Message\">{this.props.existMessage}</p>\r\n                <p className=\"Message\">{this.props.incorrectMessage}</p>\r\n                <p className=\"Image-Message\"> {this.props.ImageWarning}</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MessageBox;","import React from 'react';\r\nimport MessageBox from './messagebox';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './style/authenticationpages.css';\r\n\r\nclass LoginForm extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state ={\r\n            username:'',\r\n            password:'',\r\n            incorrectMessage:''\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleChange(event){\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        let data = this.state;\r\n        let fetchData = {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers:{'Content-Type': 'application/json;charset=utf-8'}\r\n        };\r\n\r\n        fetch('/login', fetchData)\r\n            .then(response=> response.json())\r\n            .then(data=>{\r\n                if(data.message){\r\n                    this.setState({incorrectMessage: data.message});\r\n                }\r\n                if(data.username){\r\n                    sessionStorage.setItem('username', data.username);\r\n                    sessionStorage.setItem('userID', data.userID);\r\n                    this.props.history.push({pathname: data.url, username: data.username, userID: data.userID});\r\n                }\r\n            }).catch(error=>{\r\n            console.log('Error: ' + error);\r\n        })\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"Form-Page\">\r\n                <div className=\"Form-Container\">\r\n                    <h1 className=\"Sign-In-Title\">\r\n                        Sign in with username\r\n                    </h1>\r\n                    <form className=\"User-Info-Form\" onSubmit={this.handleSubmit}>\r\n                        <div className=\"Form-Group\">\r\n                            <input id=\"User-Name\" type=\"text\" name=\"username\" placeholder=\"Username\" maxLength=\"30\"\r\n                                   onChange={this.handleChange}/>\r\n                        </div>\r\n                        <div className=\"Form-Group\">\r\n                            <input id=\"User-Password\" type=\"password\" name=\"password\" placeholder=\"Password\"\r\n                                   maxLength=\"30\" onChange={this.handleChange}/>\r\n                        </div>\r\n                        <input className=\"Submit-Button\" type=\"submit\" value=\"Sign-In\"/>\r\n                        <Link to=\"/registerpage\" className=\"Create-User\">\r\n                            <span>New to RecipeShare? </span>\r\n                            Join now!\r\n                        </Link>\r\n                    </form>\r\n                </div>\r\n                <MessageBox incorrectMessage={this.state.incorrectMessage}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(LoginForm);","import React from 'react';\r\nimport Header from './header_components/header';\r\nimport LoginForm from './loginform';\r\nimport './style/homepage.css';\r\n\r\nclass LoginPage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"Site-Content\">\r\n                <Header />\r\n                <LoginForm />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport MessageBox from './messagebox';\r\nimport './style/authenticationpages.css';\r\n\r\nclass RegisterForm extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state ={\r\n            username:'',\r\n            password:'',\r\n            usernameMessage: '',\r\n            passwordMessage:'',\r\n            existMessage:''\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.checkName = this.checkName.bind(this);\r\n        this.checkPassword = this.checkPassword.bind(this);\r\n\r\n        this.usernameRegex = new RegExp(\"^(?=.*[a-z])(?=.{8,})\");\r\n        this.passwordRegex = new RegExp(\"^(?=.*[a-z])(?=.*[0-9])(?=.{8,})\");\r\n    }\r\n\r\n    handleChange(event){\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        this.setState({usernameMessage: ''});\r\n        this.setState({passwordMessage: ''});\r\n        let data = this.state;\r\n        if((this.checkName(data.username) && this.checkPassword(data.password)) === true){\r\n            let fetchData = {\r\n                method: 'POST',\r\n                body: JSON.stringify(data),\r\n                headers: {'Content-Type': 'application/json;charset=utf-8'}\r\n            };\r\n            fetch('/registerAccount', fetchData)\r\n                .then(response=> response.json())\r\n                .then(data => {\r\n                    if(data.message){\r\n                        this.setState({existMessage: data.message});\r\n                    }\r\n                    if(data.url){\r\n                        this.props.history.push(data.url);\r\n                    }\r\n                }).catch(error=>{\r\n                console.log('Error: ' + error);\r\n            })\r\n        }\r\n\r\n        if(this.checkName(data.username) == false){\r\n            this.setState({usernameMessage: \"Your username is too short, please use a longer name\"});\r\n        }\r\n        if(this.checkPassword(data.password) == false){\r\n            this.setState({passwordMessage: \"Your password is not strong enough, please use a stronger password\"})\r\n        }\r\n    }\r\n\r\n    checkName(username){\r\n        return this.usernameRegex.test(username);\r\n    }\r\n\r\n    checkPassword(password){\r\n        return this.passwordRegex.test(password);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"Site-Content\">\r\n                <div className=\"Form-Page\">\r\n                    <div className=\"Form-Container\">\r\n                        <h1 className=\"Sign-In-Title\">\r\n                            Register an account\r\n                        </h1>\r\n                        <form className=\"User-Info-Form\" onSubmit={this.handleSubmit}>\r\n                            <div className=\"Form-Group\">\r\n                                <input id=\"Register-User-Name\" type=\"text\" name=\"username\" placeholder=\"Username\"\r\n                                       maxLength=\"30\" onChange={this.handleChange}/>\r\n                            </div>\r\n                            <div className=\"Form-Group\">\r\n                                <input id=\"Register-User-Password\" type=\"password\" name=\"password\" placeholder=\"Password\"\r\n                                       maxLength=\"30\" onChange={this.handleChange}/>\r\n                            </div>\r\n                            <input className=\"Register-Button\" type=\"submit\" value=\"Create my account\"/>\r\n                        </form>\r\n                    </div>\r\n                    <MessageBox usernameMessage={this.state.usernameMessage}\r\n                                passwordMessage={this.state.passwordMessage}\r\n                                existMessage={this.state.existMessage}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(RegisterForm);","import React from 'react';\r\nimport Header from './header_components/header';\r\nimport RegisterForm from './registerform';\r\nimport './style/homepage.css';\r\n\r\nclass RegisterPage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"Site-Content\">\r\n                <Header />\r\n                <RegisterForm />\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default RegisterPage;","import React from 'react';\r\nimport Header from './header_components/header';\r\nimport RecipeList from './recipelist';\r\nimport './style/favoritepage.css';\r\nimport './style/homepage.css';\r\n\r\n\r\nclass FavoritePage extends React.Component{\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"Site-Content\">\r\n                <Header />\r\n                <RecipeList />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FavoritePage;","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './style/createrecipe.css';\r\nimport MessageBox from './messagebox';\r\n\r\n\r\nclass CreateRecipeForm extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            PhotoUpload: null,\r\n            Username: '',\r\n            UserID: null,\r\n            PrepTime: '',\r\n            CookTime:'',\r\n            Servings:'',\r\n            MealType:'',\r\n            RecipeTitle:'',\r\n            RecipeDescription:'',\r\n            RecipeIngredients:'',\r\n            RecipeDirections:'',\r\n            ImageWarning: '',\r\n            RecipeID:'',\r\n            BooleanPhotoUpload: true,\r\n            BooleanUsername: true,\r\n            BooleanUserID: true,\r\n            BooleanPrepTime: true,\r\n            BooleanCookTime: true,\r\n            BooleanServings: true,\r\n            BooleanMealType: true,\r\n            BooleanRecipeTitle: true,\r\n            BooleanRecipeDescription: true,\r\n            BooleanRecipeIngredients: true,\r\n            BooleanRecipeDirections: true,\r\n            Required: ' Required',\r\n            recipeDetails:{}\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleImage = this.handleImage.bind(this);\r\n        this.getExtensions = this.getExtensions.bind(this);\r\n        this.checkValue = this.checkValue.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/authenticate')\r\n            .then(response=> response.json())\r\n            .then(data=>{\r\n                if(data){\r\n                    this.setState({Username: sessionStorage.username});\r\n                    this.setState({UserID: sessionStorage.userID});\r\n                    if((this.props.location.pathname === \"/editpage\")){\r\n                        this.setState({recipeDetails: this.props.location.recipeDetails });\r\n                        this.setState({\r\n                            PrepTime: this.state.recipeDetails.preptime,\r\n                            CookTime: this.state.recipeDetails.cooktime,\r\n                            Servings: this.state.recipeDetails.servings,\r\n                            MealType: this.state.recipeDetails.mealtype,\r\n                            RecipeTitle: this.state.recipeDetails.recipetitle,\r\n                            RecipeID: this.state.recipeDetails.recipeid,\r\n                            RecipeDescription: this.state.recipeDetails.description,\r\n                            RecipeIngredients: this.state.recipeDetails.ingredients.join('**'),\r\n                            RecipeDirections: this.state.recipeDetails.directions.join('**')\r\n                        });\r\n                    }\r\n                }else{\r\n                    this.props.history.push('/loginpage');\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                console.log('Error: ' + error);\r\n            });\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        let SubmitOk = this.checkValue();\r\n        if((this.state.PhotoUpload === null) && (this.props.location.pathname !== \"/editpage\")){\r\n            this.setState({ImageWarning: \"Please select a file to upload\"});\r\n        }\r\n        if(SubmitOk === true){\r\n            let description = this.state.RecipeDescription;\r\n            if((description[0] !== '\"') && (description[description.length - 1] !== '\"')){\r\n                description = '\"'+description+'\"';\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('file', this.state.PhotoUpload);\r\n            formData.append('Creator', this.state.UserID);\r\n            formData.append('Username', this.state.Username);\r\n            formData.append('PrepTime', this.state.PrepTime);\r\n            formData.append('CookTime', this.state.CookTime);\r\n            formData.append('Servings', this.state.Servings);\r\n            formData.append('MealType', this.state.MealType);\r\n            formData.append('RecipeTitle', this.state.RecipeTitle);\r\n            formData.append('RecipeDescription', description);\r\n            formData.append('RecipeIngredients', this.state.RecipeIngredients);\r\n            formData.append('RecipeDirections', this.state.RecipeDirections);\r\n            formData.append('RecipeID', this.state.RecipeID);\r\n            let fetchData = {\r\n                method: '',\r\n                body: formData\r\n            };\r\n            if(this.props.location.pathname !== \"/editpage\"){\r\n                fetchData.method = 'POST';\r\n                fetch('/createRecipe', fetchData)\r\n                    .then(data=>{\r\n                        this.props.history.push({pathname:\"/\", username:this.state.Username,\r\n                            userID:this.state.UserID});\r\n                    }).catch(error=>{console.log(\"Error: \" + error)});\r\n            }else{\r\n                fetchData.method = 'PUT';\r\n                fetch('/editPage', fetchData)\r\n                    .then(response=> response.json())\r\n                    .then(data=>{\r\n                        this.props.history.push({pathname:\"/recipepage/\"+data.recipeid, username:this.state.Username,\r\n                            userID:this.state.UserID});\r\n                    }).catch(error=>{console.log(\"Error: \" + error)});\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange(event){\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    handleImage(event){\r\n        event.preventDefault();\r\n        let photo = event.target.files[0];\r\n        let size = photo.size;\r\n        let extension = this.getExtensions(photo.name);\r\n        if(((extension === 'jpg') && (extension !== 'png')) || ((extension === 'png') && (extension !== 'jpg'))){\r\n            let img = new Image();\r\n            img.src = window.URL.createObjectURL(photo);\r\n            //image.onload: this event handler will be called on the image element when the image has finished loading\r\n            img.onload = ()=> {\r\n                if (size / 1024 > 5120) {\r\n                    this.setState({ImageWarning: \"The file size is too big, must be less then 5mb\"});\r\n                } else if ((img.width < 960) || (img.height < 960)) {\r\n                    this.setState({ImageWarning: \"The file width or height is too small\"})\r\n                }else{\r\n                    this.setState({\r\n                        PhotoUpload: photo,\r\n                        ImageWarning:''\r\n                    });\r\n                }\r\n            }\r\n        }else{\r\n            this.setState({ImageWarning:\"The selected file must be a jpg or png\"})\r\n        }\r\n    }\r\n\r\n    getExtensions(filename){\r\n        return filename.split('.').pop();\r\n    }\r\n\r\n    checkValue(){\r\n        let states = Object.keys(this.state);\r\n        let count = 11;\r\n        for(let i = 0; i < 11; i++){\r\n            let booleanStateKey = 'Boolean'+states[i];\r\n            let booleanStateObj = {};\r\n            if((this.state[states[i]] === null) || (this.state[states[i]] === '')){\r\n                if((states[i] === 'PhotoUpload') && (this.props.location.pathname === \"/editpage\")){\r\n                    booleanStateObj[booleanStateKey] = true;\r\n                }else{\r\n                    booleanStateObj[booleanStateKey] = false;\r\n                    count -= 1;\r\n                }\r\n                this.setState(booleanStateObj);\r\n            }else{\r\n                booleanStateObj[booleanStateKey] = true;\r\n                this.setState(booleanStateObj);\r\n            }\r\n        }\r\n        return count === 11;\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"Create-Recipe-Container\">\r\n                <form className=\"Create-Recipe-Form\" onSubmit={this.handleSubmit} encType={\"multipart/form-data\"}>\r\n                    <div className=\"Left-Container\">\r\n                        <div className=\"Recipe-Photo\">\r\n                            <label className=\"Camera-Icon\">\r\n                                <input id=\"Photo-Upload\" type=\"file\" name=\"PhotoUpload\" accept=\"image/png, image/jpeg\"\r\n                                       onChange={this.handleImage}/>\r\n                            </label>\r\n                            <span className=\"Recipe-Photo-Size\">(no smaller than 960 x 960)</span>\r\n                        </div>\r\n                        <MessageBox ImageWarning={this.state.ImageWarning}/>\r\n                        <ul className=\"Create-Recipe-Stats\">\r\n                            <li className=\"PrepTime-Label\">\r\n                                <label htmlFor=\"PrepTime\">Prep Time</label>\r\n                                {this.state.BooleanPrepTime ? '' :\r\n                                    <span className='Requirement'>{this.state.Required}</span>}\r\n                                <input id=\"Prep-Time\" type=\"text\" name=\"PrepTime\" maxLength=\"25\"\r\n                                       value={this.state.PrepTime}\r\n                                       onChange={this.handleChange}/>\r\n                            </li>\r\n                            <li className=\"CookTime-Label\">\r\n                                <label htmlFor=\"CookTime\">Cook Time</label>\r\n                                {this.state.BooleanCookTime ? '' :\r\n                                    <span className='Requirement'>{this.state.Required}</span>}\r\n                                <input id=\"Cook-Time\" name=\"CookTime\" type=\"text\" maxLength=\"25\"\r\n                                       value={this.state.CookTime}\r\n                                       onChange={this.handleChange}/>\r\n                            </li>\r\n                            <li className=\"Servings-Label\">\r\n                                <label htmlFor=\"Servings\">Number Of Servings</label>\r\n                                {this.state.BooleanServings ? '' :\r\n                                    <span className='Requirement'>{this.state.Required}</span>}\r\n                                <input id=\"Servings\" name=\"Servings\" type=\"text\" maxLength=\"25\"\r\n                                       value={this.state.Servings}\r\n                                       onChange={this.handleChange}/>\r\n                            </li>\r\n                            <li className=\"Meal-Type-Option\">\r\n                                <label>\r\n                                    <div className=\"Meal-Type-Title-Container\">\r\n                                        <p className=\"Meal-Type-Title\">Meal Type</p>\r\n                                        {this.state.BooleanMealType ? '' :\r\n                                            <span className='Requirement'>{this.state.Required}</span>}\r\n                                    </div>\r\n                                    <div className=\"Options\">\r\n                                        <label>\r\n                                            <input id=\"Breakfast-Option\" type=\"radio\" name=\"MealType\"\r\n                                                   value=\"Breakfast\"\r\n                                                   checked={(this.state.MealType === \"Breakfast\") ? \"checked\" : ''}\r\n                                                   onChange={this.handleChange}/>\r\n                                            Breakfast\r\n                                        </label>\r\n                                        <label>\r\n                                            <input id=\"Lunch-Option\" type=\"radio\" name=\"MealType\"\r\n                                                   value=\"Lunch\"\r\n                                                   checked={(this.state.MealType === \"Lunch\") ? \"checked\" : ''}\r\n                                                   onChange={this.handleChange}/>\r\n                                            Lunch\r\n                                        </label>\r\n                                        <label>\r\n                                            <input id=\"Dinner-Option\" type=\"radio\" name=\"MealType\"\r\n                                                   value=\"Dinner\"\r\n                                                   checked={(this.state.MealType === \"Dinner\") ? \"checked\" : ''}\r\n                                                   onChange={this.handleChange}/>\r\n                                            Dinner\r\n                                        </label>\r\n                                        <label>\r\n                                            <input id=\"Dessert-Option\" type=\"radio\" name=\"MealType\"\r\n                                                   value=\"Dessert\"\r\n                                                   checked={(this.state.MealType === \"Dessert\") ? \"checked\" : ''}\r\n                                                   onChange={this.handleChange}/>\r\n                                            Dessert\r\n                                        </label>\r\n                                    </div>\r\n                                </label>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"Right-Container\">\r\n                        <ul className=\"Create-Recipe-Info\">\r\n                            <li className=\"Info-Label\">\r\n                                <label htmlFor=\"RecipeTitle\">Recipe Title</label>\r\n                                {this.state.BooleanRecipeTitle ? '' :\r\n                                    <span className='Requirement'>{this.state.Required}</span>}\r\n                                <input id=\"Recipe-Title\" name=\"RecipeTitle\" type=\"text\" maxLength=\"45\"\r\n                                       value={this.state.RecipeTitle}\r\n                                       onChange={this.handleChange}/>\r\n                            </li>\r\n                            <li className=\"Info-Label\">\r\n                                <label htmlFor=\"RecipeDescription\">Description </label>\r\n                                {this.state.BooleanRecipeDescription ? '' :\r\n                                    <span className='Requirement'>{this.state.Required}</span>}\r\n                                <textarea id=\"Recipe-Description\" name=\"RecipeDescription\" type=\"text\"\r\n                                          value={this.state.RecipeDescription}\r\n                                          onChange={this.handleChange}/>\r\n                            </li>\r\n                            <li className=\"Info-Label\">\r\n                                <label htmlFor=\"RecipeIngredients\">Ingredients</label>\r\n                                {this.state.BooleanRecipeIngredients ? '' :\r\n                                    <span className='Requirement'>{this.state.Required}</span>}\r\n                                <textarea id=\"Recipe-Ingredients\" name=\"RecipeIngredients\" type=\"text\"\r\n                                          value={this.state.RecipeIngredients}\r\n                                          placeholder=\"Please add ** at the end of every sentence/point\"\r\n                                          onChange={this.handleChange}\r\n                                />\r\n                            </li>\r\n                            <li className=\"Info-Label\">\r\n                                <label htmlFor=\"RecipeDirections\">Directions</label>\r\n                                {this.state.BooleanRecipeDirections ? '' :\r\n                                    <span className='Requirement'>{this.state.Required}</span>}\r\n                                <textarea id=\"Recipe-Directions\" name=\"RecipeDirections\" type=\"text\"\r\n                                          value={this.state.RecipeDirections}\r\n                                          placeholder=\"Please add ** at the end of every sentence/point\"\r\n                                          onChange={this.handleChange}\r\n                                />\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"Submit-Container\">\r\n                        <input className=\"Submit-Recipe-Button\" type=\"submit\"\r\n                               value={this.props.location.pathname === \"/editpage\" ? \"Update Recipe\":\"Submit Recipe\"}\r\n                               onSubmit={this.handleSubmit}/>\r\n                        <Link to={{pathname:\"/\", username: this.state.Username, userID: this.state.UserID}}\r\n                              className=\"Cancel\">\r\n                            <span>Cancel</span>\r\n                        </Link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(CreateRecipeForm);","import React from 'react';\r\nimport Header from './header_components/header';\r\nimport CreateRecipeForm from './create_recipe_form';\r\nimport './style/homepage.css';\r\n\r\nclass CreateRecipePage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"Site-Content\">\r\n                <Header />\r\n                <CreateRecipeForm />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CreateRecipePage;","import React from 'react';\r\nimport Header from './header_components/header';\r\nimport { Link } from 'react-router-dom';\r\nimport './style/homepage.css';\r\nimport './style/recipepage.css';\r\n\r\nclass RecipePage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            recipeDetails: {},\r\n            recipeIngredients:[],\r\n            recipeDirections:[]\r\n        };\r\n        this.addToFavorites = this.addToFavorites.bind(this);\r\n        this.deleteRecipe = this.deleteRecipe.bind(this);\r\n\r\n    }\r\n    componentDidMount() {\r\n        let recipeid = this.props.match.params.recipeid;\r\n        fetch('/getRecipe/' + recipeid)\r\n            .then(response=> response.json())\r\n            .then(data=>{\r\n                data.rows[0].ingredients = data.rows[0].ingredients.split('**');\r\n                data.rows[0].directions = data.rows[0].directions.split('**');\r\n                data.rows[0].ingredients = data.rows[0].ingredients.filter(i => i !== \"\");\r\n                data.rows[0].directions = data.rows[0].directions.filter(d => d !== \"\");\r\n                this.setState({recipeDetails: data.rows[0], recipeIngredients: data.rows[0].ingredients,\r\n                    recipeDirections: data.rows[0].directions});\r\n            })\r\n            .catch(err=>{\r\n                console.log(err);\r\n            });\r\n    }\r\n    addToFavorites(event) {\r\n        event.preventDefault();\r\n        let data = {recipeid: this.props.match.params.recipeid, accountid: sessionStorage.userID};\r\n\r\n        let fetchData = {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers: {'Content-Type': 'application/json;charset=utf-8'}\r\n        };\r\n\r\n        fetch('/addFavorite', fetchData)\r\n            .then(response=> response.json())\r\n            .then(data=>{\r\n                // console.log(\"Getting a response back from /addFavorite fetch on client side\");\r\n                // console.log(data);\r\n            }).catch(error=>{\r\n            console.log(error);\r\n        })\r\n    }\r\n    deleteRecipe(event){\r\n\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"Site-Content\">\r\n                <Header />\r\n                <div className=\"Recipe-Page-Container\">\r\n                    <div className=\"Recipe-Summary-Container\">\r\n                        <section className=\"Recipe-Summary\">\r\n                            <div className=\"Title-Container\">\r\n                                {sessionStorage.username === this.state.recipeDetails.username ?\r\n                                <img className=\"Delete-Recipe\"\r\n                                     onClick={this.deleteRecipe}\r\n                                     title=\"Delete recipe\"\r\n                                     src=\"https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-windows-metro-26.png?alt=media&token=797f2c43-4c03-4307-b5e9-e660ea439358\"\r\n                                />\r\n                                : null}\r\n                                <h1 className=\"Recipe-Page-Title\">{this.state.recipeDetails.recipetitle}</h1>\r\n                                {sessionStorage.username ?\r\n                                    <img className=\"Registered-User-Options\"\r\n                                         onClick={this.addToFavorites}\r\n                                         title=\"Add to favorites\"\r\n                                         src=\"https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-plus-24.png?alt=media&token=dbddc595-5dd4-43d2-9e6e-9bb227552361\"\r\n                                    />\r\n                                    : null}\r\n                                {sessionStorage.username === this.state.recipeDetails.username ?\r\n                                    <Link to={{\r\n                                        pathname:\"/editpage\",\r\n                                        username: sessionStorage.username,\r\n                                        userID: sessionStorage.userID,\r\n                                        recipeDetails: this.state.recipeDetails\r\n                                    }}>\r\n                                        <img className=\"Registered-User-Options\"\r\n                                             id=\"Edit-Your-Recipe\"\r\n                                             title=\"Edit your recipe\"\r\n                                             src={\"https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-edit-40.png?alt=media&token=8b38d508-1011-4c65-b017-2ca5248bfdd6\"}\r\n                                        />\r\n                                    </Link>\r\n                                    : null}\r\n                            </div>\r\n                            <p>\r\n                                <span className=\"Recipe-By\">Recipe by </span>\r\n                                <span className=\"Recipe-Page-Creator\">{this.state.recipeDetails.username}</span>\r\n                            </p>\r\n                            <div className=\"Recipe-Page-Description\">{this.state.recipeDetails.description}</div>\r\n                        </section>\r\n                        <section className=\"Recipe-Image-Container\">\r\n                            <img className=\"Recipe-Page-Image\" src={this.state.recipeDetails.image}/>\r\n                        </section>\r\n                    </div>\r\n                    <div className=\"Recipe-Ingredients-Container\">\r\n                        <h2 className=\"Recipe-Section-Title\">Ingredients</h2>\r\n                        <ul className=\"Recipe-Section-Text\">\r\n                            {this.state.recipeIngredients.map((ingredient, i)=>(\r\n                                <li className=\"Recipe-Section-li\" key={ingredient+ (i+1)}>\r\n                                    {ingredient}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"Recipe-Directions-Container\">\r\n                        <h2 className=\"Recipe-Section-Title\">Directions</h2>\r\n                        <ul className=\"Recipe-Section-Text\" id=\"Recipe-Page-Directions\">\r\n                            <ul className=\"Information-Tab\">\r\n                                <li className=\"Info-Tab-PrepTime\">\r\n                                    <p className=\"Info-Tab-Label\">Prep Time</p>\r\n                                    <span>{this.state.recipeDetails.preptime}</span>\r\n                                </li>\r\n                                <li className=\"Info-Tab-CookTime\">\r\n                                    <p className=\"Info-Tab-Label\">Cook Time</p>\r\n                                    <span>{this.state.recipeDetails.cooktime}</span>\r\n                                </li>\r\n                                <li className=\"Info-Tab-Servings\">\r\n                                    <p className=\"Info-Tab-Label\">Servings</p>\r\n                                    <span>{this.state.recipeDetails.servings}</span>\r\n                                </li>\r\n                            </ul>\r\n                            {this.state.recipeDirections.map((direction, i)=>(\r\n                                <li className=\"Recipe-Section-li\" key={direction+ (i+1)}>\r\n                                    {direction}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default RecipePage;","import React from 'react';\r\nimport Header from './header_components/header';\r\nimport './style/homepage.css';\r\nimport RecipeList from './recipelist';\r\n\r\nclass CreatedPage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"Site-Content\">\r\n                <Header />\r\n                <RecipeList />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CreatedPage;","import React from 'react';\r\nimport Header from './header_components/header';\r\nimport CreateRecipeForm from './create_recipe_form';\r\nimport './style/homepage.css';\r\n\r\nclass EditPage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"Site-Content\">\r\n                <Header />\r\n                <CreateRecipeForm />\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default EditPage;","import React from 'react';\r\nimport {Component} from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\n\r\n\r\nfunction PrivateRoute({component: Component, ...rest}) {\r\n    return(\r\n        <Route\r\n            {...rest}\r\n        render={(props) =>\r\n         userAuth() === true ?\r\n            <Component {...props} />:\r\n            <Redirect to={{pathname: '/loginpage', state: {from: props.location}}}/>\r\n         }\r\n        />\r\n        );\r\n}\r\nfunction userAuth(){\r\n    return (sessionStorage.username !== '') && (sessionStorage.username !== undefined) &&\r\n        (sessionStorage.username !== null);\r\n\r\n}\r\n\r\nexport default PrivateRoute;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Switch, Route, BrowserRouter as Router} from \"react-router-dom\";\nimport HomePage from './homepage';\nimport LoginPage from './loginpage';\nimport RegisterPage from './registerpage';\nimport FavoritePage from './favoritepage';\nimport CreateRecipePage from './create_recipe_page';\nimport RecipePage from './recipepage';\nimport CreatedPage from './createdpage'\nimport EditPage from './editpage';\nimport PrivateRoute from './privateroute';\n\nconst routing = (\n    <Router>\n        <div>\n            <Switch>\n            <Route exact path=\"/\" component={HomePage} />\n            <Route path=\"/loginpage\" component={LoginPage}/>\n            <Route path=\"/registerpage\" component={RegisterPage}/>\n            <Route path=\"/recipepage/:recipeid\" component={RecipePage}/>\n            <PrivateRoute path=\"/favoritepage\" component={FavoritePage}/>\n            <PrivateRoute path=\"/createrecipe\" component={CreateRecipePage}/>\n            <PrivateRoute path=\"/createdpage\" component={CreatedPage}/>\n            <PrivateRoute path=\"/editpage\" component={EditPage}/>\n            </Switch>\n        </div>\n    </Router>\n);\n\nReactDOM.render(routing, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}