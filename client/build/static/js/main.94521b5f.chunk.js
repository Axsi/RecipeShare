(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},,,,,function(e,t,a){e.exports=a(50)},,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(26),r=a.n(i),c=a(7),l=a(15),o=a(1),u=a(2),m=a(4),p=a(3),h=a(5),d=a(13),g=a(6),b=(a(35),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={searchInput:null},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSearch=a.handleSearch.bind(Object(g.a)(a)),a.checkEnter=a.checkEnter.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(d.a)({},t,a))}},{key:"handleSearch",value:function(e){var t=this;if(e.preventDefault(),""!==this.state.searchInput&&null!==this.state.searchInput&&void 0!==this.state.searchInput){var a=this.state,n={method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json;charset=utf-8"}};fetch("/search",n).then(function(e){return e.json()}).then(function(e){t.props.history.push({pathname:"/",searchResult:e.rows,username:t.props.location.username,userID:t.props.location.userID,searchInput:t.state.searchInput})}).catch(function(e){console.log(e)})}}},{key:"checkEnter",value:function(e){13===e.keyCode&&this.handleSearch(e)}},{key:"render",value:function(){return s.a.createElement("li",{className:"Search-Bar"},s.a.createElement("div",{className:"Search"},s.a.createElement("input",{className:"Search-Input",placeholder:"Find a recipe",name:"searchInput",onKeyDown:this.checkEnter,onChange:this.handleChange}),s.a.createElement("button",{className:"Search-Button",onClick:this.handleSearch},s.a.createElement("img",{className:"Magnify-Icon",src:"https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-search-30.png?alt=media&token=4860d078-e8be-46e1-acae-e50e0f6efa4a"}))))}}]),t}(s.a.Component)),f=Object(l.g)(b),v=(a(40),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("li",{className:"Favorite-Button"},s.a.createElement(c.b,{to:{pathname:"/favoritepage",username:this.props.location.username,userID:this.props.location.userID},className:"Favorite-Tab"},s.a.createElement("img",{className:"Heart-Icon",title:"Your favorite recipes",src:"https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-heart-96.png?alt=media&token=52792857-9c9f-40a4-878d-8884322854ab"})))}}]),t}(s.a.Component)),E=Object(l.g)(v),O=(a(41),function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("li",{className:"Sign-In-Button"},s.a.createElement(c.b,{to:"/loginpage",className:"Sign-In"},s.a.createElement("span",null,"Sign In")))}}]),t}(s.a.Component)),j=(a(18),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(e){var t=this;e.preventDefault(),fetch("/mealType/"+e.target.name).then(function(e){return e.json()}).then(function(e){t.props.history.push({pathname:"/",searchResult:e.rows,username:t.props.location.username,userID:t.props.location.userID})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return s.a.createElement("li",{className:"Browse-Categories"},s.a.createElement("h3",null,"Meal Type"),s.a.createElement("ul",{className:"Browse-SubCategories"},s.a.createElement("li",null,s.a.createElement("a",{name:"Breakfast",onClick:this.handleClick},"Breakfast")),s.a.createElement("li",null,s.a.createElement("a",{name:"Lunch",onClick:this.handleClick},"Lunch")),s.a.createElement("li",null,s.a.createElement("a",{name:"Dinner",onClick:this.handleClick},"Dinner")),s.a.createElement("li",null,s.a.createElement("a",{name:"Dessert",onClick:this.handleClick},"Dessert"))))}}]),t}(s.a.Component)),C=Object(l.g)(j),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(e){var t=this;e.preventDefault();var a={searchInput:e.target.name},n={method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json;charset=utf-8"}};fetch("/search",n).then(function(e){return e.json()}).then(function(e){t.props.history.push({pathname:"/",searchResult:e.rows,username:t.props.location.username,userID:t.props.location.userID})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return s.a.createElement("li",{className:"Browse-Categories"},s.a.createElement("h3",null,"Ingredient"),s.a.createElement("ul",{className:"Browse-SubCategories"},s.a.createElement("li",null,s.a.createElement("a",{name:"Beef",onClick:this.handleClick},"Beef")),s.a.createElement("li",null,s.a.createElement("a",{name:"Chicken",onClick:this.handleClick},"Chicken")),s.a.createElement("li",null,s.a.createElement("a",{name:"Pork",onClick:this.handleClick},"Pork")),s.a.createElement("li",null,s.a.createElement("a",{name:"Salmon",onClick:this.handleClick},"Salmon"))))}}]),t}(s.a.Component),R=Object(l.g)(k),N=(a(42),a(25),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleSignOut=a.handleSignOut.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleSignOut",value:function(e){var t=this;e.preventDefault(),fetch("/logout").then(function(e){sessionStorage.removeItem("username"),sessionStorage.removeItem("userID"),t.props.history.push({pathname:"/",data:"guest"})})}},{key:"render",value:function(){return s.a.createElement("li",{id:"LogOut-Button"},s.a.createElement("a",{className:"LogOut",onClick:this.handleSignOut},"Sign out"))}}]),t}(s.a.Component)),y=Object(l.g)(N),S=(a(43),a(44),a(45),{guest:{unauthorized:["public-home-page:visit","signIn-page:visit","register-page:visit","recipe-list:visit","recipe-page:visit"]},user:{authorized:["private-home-page:visit","recipe-list:visit","recipe-page:visit","own-recipe:edit","own-recipe:delete","favorite-recipe:add","favorite-recipe:remove","recipes:create","own-recipes-page:visit"]}}),D=function(e){return function(e,t,a,n){var s=e[t];if(!s)return!1;var i=s.unauthorized;if(i&&i.includes(a))return!0;var r=s.authorized;return!(!r||!r.includes(a))}(S,e.role,e.perform,e.data)?e.yes():e.no()};D.defaultProps={yes:function(){return null},no:function(){return null}};var I=D;var T=function(e){return function(t){function a(e){var t;return Object(o.a)(this,a),(t=Object(m.a)(this,Object(p.a)(a).call(this,e)))._isMounted=!1,t.state={menuVisible:!1},t.showMenu=t.showMenu.bind(Object(g.a)(t)),t.hideMenu=t.hideMenu.bind(Object(g.a)(t)),t}return Object(h.a)(a,t),Object(u.a)(a,[{key:"showMenu",value:function(e){var t=this;e.preventDefault(),this._isMounted=!0,this.setState({menuVisible:!0},function(){document.addEventListener("click",t.hideMenu)})}},{key:"hideMenu",value:function(e){var t=this;this._isMounted&&this.setState({menuVisible:e},function(){document.removeEventListener("click",t.hideMenu)})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,document.removeEventListener("click",this.hideMenu)}},{key:"render",value:function(){var t={showMenu:this.showMenu,hideMenu:this.hideMenu};return s.a.createElement(e,Object.assign({menuVisible:this.state.menuVisible},t))}}]),a}(s.a.Component)};var w=function(e){return function(t){function a(e){var t;return Object(o.a)(this,a),(t=Object(m.a)(this,Object(p.a)(a).call(this,e))).setWrapperRef=t.setWrapperRef.bind(Object(g.a)(t)),t.handleClickOutside=t.handleClickOutside.bind(Object(g.a)(t)),t}return Object(h.a)(a,t),Object(u.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.props.onOutsideClick(!1)}},{key:"render",value:function(){var t={setWrapperRef:this.setWrapperRef};return s.a.createElement(e,t)}}]),a}(s.a.Component)},M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={role:"",username:"",userID:null},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/authenticate").then(function(e){return e.json()}).then(function(t){t?e.setState({role:"user",username:sessionStorage.username,userID:sessionStorage.userID}):e.setState({role:"guest"})}).catch(function(e){console.log("Error: "+e)})}},{key:"componentDidUpdate",value:function(){null!=this.props.location.data&&this.props.location.data!==this.state.role&&this.setState({role:this.props.location.data})}},{key:"render",value:function(){var e=this,t=T(function(e){return s.a.createElement("li",{className:"Browse-Button"},s.a.createElement("a",{className:"Browse-Tab",onClick:e.showMenu},s.a.createElement("span",null,"BROWSE"),s.a.createElement("span",null," "),s.a.createElement("img",{className:"Chevron-Down-Icon-Browse",src:"https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-chevron-down-26_browse.png?alt=media&token=aa6718c2-d6d7-487f-91e7-ee79eeb510d9"})),e.menuVisible?s.a.createElement(n,{onOutsideClick:e.hideMenu}):null)}),a=T(function(t){return s.a.createElement("li",{className:"Account-Button"},s.a.createElement("a",{className:"User-Tab",onClick:t.showMenu},s.a.createElement("div",{className:"Account-User-Name"},e.state.username),s.a.createElement("span",{className:"Account-Chevron-Side"},s.a.createElement("img",{className:"Chevron-Down-Icon-Account",src:"https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-chevron-down-26.png?alt=media&token=9d3ad168-6235-4d8b-80f6-debbbba9ac5b"}))),t.menuVisible?s.a.createElement(i,{onOutsideClick:t.hideMenu}):null)}),n=w(function(e){return s.a.createElement("div",{className:"Menu-Container",ref:e.setWrapperRef},s.a.createElement("section",{className:"Menu"},s.a.createElement("ul",{className:"Categories"},s.a.createElement(C,null),s.a.createElement(R,null))))}),i=w(function(t){return s.a.createElement("div",{className:"User-Menu-Container",ref:t.setWrapperRef},s.a.createElement("section",{className:"User-Menu"},s.a.createElement("ul",{className:"User-Categories"},s.a.createElement("li",null,s.a.createElement(c.b,{className:"Create-Recipe-link",to:{pathname:"/createrecipe",username:e.state.username,userID:e.state.userID}},"Create Recipe")),s.a.createElement("li",null,s.a.createElement(c.b,{className:"Created-link",to:{pathname:"/createdpage",username:e.state.username,userID:e.state.userID}},"Your Recipes")),s.a.createElement("li",null,s.a.createElement(c.b,{className:"Favorites-link",to:{pathname:"/favoritepage",username:e.state.username,userID:e.state.userID}},"Favorite Recipes")),s.a.createElement(y,null))))});return s.a.createElement("div",{className:"Header-Container"},s.a.createElement(I,{role:this.state.role,perform:"private-home-page:visit",yes:function(){return s.a.createElement("ul",{className:"Header-Nav"},s.a.createElement("li",{className:"Logo-Tab"},s.a.createElement(c.b,{to:{pathname:"/",username:e.state.username,userID:e.state.userID},className:"Title"},s.a.createElement("img",{className:"Logo-Img",src:"https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/utensils.png?alt=media&token=c08cf7d2-264e-40e7-a89f-973a6289c0a6"}))),s.a.createElement(t,null),s.a.createElement(f,null),s.a.createElement(E,null),s.a.createElement(a,null))}}),s.a.createElement(I,{role:this.state.role,perform:"public-home-page:visit",yes:function(){return s.a.createElement("ul",{className:"Header-Nav"},s.a.createElement("li",{className:"Logo-Tab"},s.a.createElement(c.b,{to:"/",className:"Title"},s.a.createElement("img",{className:"Logo-Img",src:"https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/utensils.png?alt=media&token=c08cf7d2-264e-40e7-a89f-973a6289c0a6"}))),s.a.createElement(t,null),s.a.createElement(f,null),s.a.createElement(E,null),s.a.createElement(O,null))}}))}}]),t}(s.a.Component),P=Object(l.g)(M),B=(a(46),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={searchResult:[],propResult:null},a.renderArticles=a.renderArticles.bind(Object(g.a)(a)),a.renderFavorites=a.renderFavorites.bind(Object(g.a)(a)),a.renderTitle=a.renderTitle.bind(Object(g.a)(a)),a.renderCreations=a.renderCreations.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){"/favoritepage"===this.props.location.pathname&&0===this.state.searchResult.length?this.renderFavorites():"/createdpage"===this.props.location.pathname&&0===this.state.searchResult.length?this.renderCreations():this.renderArticles()}},{key:"componentDidUpdate",value:function(){this.renderArticles()}},{key:"renderArticles",value:function(){var e=this;null!==this.props.location.searchResult&&void 0!==this.props.location.searchResult&&this.props.location.searchResult!==this.state.searchResult&&this.setState({searchResult:this.props.location.searchResult,propResult:this.props.location.searchResult}),this.state.propResult!==this.props.location.searchResult&&fetch("/recentRecipes").then(function(e){return e.json()}).then(function(t){e.setState({searchResult:t.rows,propResult:e.props.location.searchResult})}).catch(function(e){console.log(e)})}},{key:"renderFavorites",value:function(){var e=this,t=sessionStorage.userID;fetch("/getFavorites/"+t).then(function(e){return e.json()}).then(function(t){e.setState({searchResult:t.rows,propResult:void 0})}).catch(function(e){console.log(e)})}},{key:"renderCreations",value:function(){var e=this,t=sessionStorage.userID;fetch("/getCreations/"+t).then(function(e){return e.json()}).then(function(t){e.setState({searchResult:t.rows,propResult:void 0})}).catch(function(e){console.log(e)})}},{key:"renderTitle",value:function(){return"/favoritepage"===this.props.location.pathname?"Favorite Recipes":"/"===this.props.location.pathname&&void 0===this.props.location.searchResult?"Recently Added":"/createdpage"===this.props.location.pathname&&void 0===this.props.location.searchResult?"Your Recipes":void 0}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"Search-Results"},s.a.createElement("h2",{className:"Recipe-List-Subject-Title"},this.renderTitle()),s.a.createElement("section",{id:"Grid-Selection"},this.state.searchResult.length>0?this.state.searchResult.map(function(t){return s.a.createElement("article",{className:"Recipe-Article",key:t.recipeid.toString()},s.a.createElement(c.b,{to:{pathname:"/recipepage/"+t.recipeid,username:e.props.location.username,userID:e.props.location.userID},className:"Recipe-Link"},s.a.createElement("img",{className:"Recipe-Image",src:t.image}),s.a.createElement("div",{className:"Recipe-Article-Info"},s.a.createElement("h3",{className:"Recipe-Title"},t.recipetitle),s.a.createElement("div",{className:"Recipe-Description"},t.description)),s.a.createElement("div",{className:"Recipe-Creator"},s.a.createElement("span",{className:"By"},"By "),t.username)))}):null))}}]),t}(s.a.Component)),U=Object(l.g)(B),x=(a(12),function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Site-Content"},s.a.createElement(P,null),s.a.createElement(U,null))}}]),t}(s.a.Component)),L=(a(19),function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Message-Container"},s.a.createElement("p",{className:"Message"},this.props.usernameMessage),s.a.createElement("p",{className:"Message"},this.props.passwordMessage),s.a.createElement("p",{className:"Message"},this.props.existMessage),s.a.createElement("p",{className:"Message"},this.props.incorrectMessage),s.a.createElement("p",{className:"Image-Message"}," ",this.props.ImageWarning))}}]),t}(s.a.Component)),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={username:"",password:"",incorrectMessage:""},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(d.a)({},t,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n={method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json;charset=utf-8"}};fetch("/login",n).then(function(e){return e.json()}).then(function(e){e.message&&t.setState({incorrectMessage:e.message}),e.username&&(sessionStorage.setItem("username",e.username),sessionStorage.setItem("userID",e.userID),t.props.history.push({pathname:e.url,username:e.username,userID:e.userID}))}).catch(function(e){console.log("Error: "+e)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"Form-Page"},s.a.createElement("div",{className:"Form-Container"},s.a.createElement("h1",{className:"Sign-In-Title"},"Sign in with username"),s.a.createElement("form",{className:"User-Info-Form",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"Form-Group"},s.a.createElement("input",{id:"User-Name",type:"text",name:"username",placeholder:"Username",maxLength:"30",onChange:this.handleChange})),s.a.createElement("div",{className:"Form-Group"},s.a.createElement("input",{id:"User-Password",type:"password",name:"password",placeholder:"Password",maxLength:"30",onChange:this.handleChange})),s.a.createElement("input",{className:"Submit-Button",type:"submit",value:"Sign-In"}),s.a.createElement(c.b,{to:"/registerpage",className:"Create-User"},s.a.createElement("span",null,"New to RecipeShare? "),"Join now!"))),s.a.createElement(L,{incorrectMessage:this.state.incorrectMessage}))}}]),t}(s.a.Component),W=Object(l.g)(F),q=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Site-Content"},s.a.createElement(P,null),s.a.createElement(W,null))}}]),t}(s.a.Component),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={username:"",password:"",usernameMessage:"",passwordMessage:"",existMessage:""},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.checkName=a.checkName.bind(Object(g.a)(a)),a.checkPassword=a.checkPassword.bind(Object(g.a)(a)),a.usernameRegex=new RegExp("^(?=.*[a-z])(?=.{8,})"),a.passwordRegex=new RegExp("^(?=.*[a-z])(?=.*[0-9])(?=.{8,})"),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(d.a)({},t,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({usernameMessage:""}),this.setState({passwordMessage:""});var a=this.state;if(!0===(this.checkName(a.username)&&this.checkPassword(a.password))){var n={method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json;charset=utf-8"}};fetch("/registerAccount",n).then(function(e){return e.json()}).then(function(e){e.message&&t.setState({existMessage:e.message}),e.url&&t.props.history.push(e.url)}).catch(function(e){console.log("Error: "+e)})}0==this.checkName(a.username)&&this.setState({usernameMessage:"Your username is too short, please use a longer name"}),0==this.checkPassword(a.password)&&this.setState({passwordMessage:"Your password is not strong enough, please use a stronger password"})}},{key:"checkName",value:function(e){return this.usernameRegex.test(e)}},{key:"checkPassword",value:function(e){return this.passwordRegex.test(e)}},{key:"render",value:function(){return s.a.createElement("div",{className:"Site-Content"},s.a.createElement("div",{className:"Form-Page"},s.a.createElement("div",{className:"Form-Container"},s.a.createElement("h1",{className:"Sign-In-Title"},"Register an account"),s.a.createElement("form",{className:"User-Info-Form",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"Form-Group"},s.a.createElement("input",{id:"Register-User-Name",type:"text",name:"username",placeholder:"Username",maxLength:"30",onChange:this.handleChange})),s.a.createElement("div",{className:"Form-Group"},s.a.createElement("input",{id:"Register-User-Password",type:"password",name:"password",placeholder:"Password",maxLength:"30",onChange:this.handleChange})),s.a.createElement("input",{className:"Register-Button",type:"submit",value:"Create my account"}))),s.a.createElement(L,{usernameMessage:this.state.usernameMessage,passwordMessage:this.state.passwordMessage,existMessage:this.state.existMessage})))}}]),t}(s.a.Component),V=Object(l.g)(A),z=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Site-Content"},s.a.createElement(P,null),s.a.createElement(V,null))}}]),t}(s.a.Component),J=(a(47),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Site-Content"},s.a.createElement(P,null),s.a.createElement(U,null))}}]),t}(s.a.Component)),Y=(a(48),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={PhotoUpload:null,Username:"",UserID:null,PrepTime:"",CookTime:"",Servings:"",MealType:"",RecipeTitle:"",RecipeDescription:"",RecipeIngredients:"",RecipeDirections:"",ImageWarning:"",RecipeID:"",BooleanPhotoUpload:!0,BooleanUsername:!0,BooleanUserID:!0,BooleanPrepTime:!0,BooleanCookTime:!0,BooleanServings:!0,BooleanMealType:!0,BooleanRecipeTitle:!0,BooleanRecipeDescription:!0,BooleanRecipeIngredients:!0,BooleanRecipeDirections:!0,Required:" Required",recipeDetails:{}},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleImage=a.handleImage.bind(Object(g.a)(a)),a.getExtensions=a.getExtensions.bind(Object(g.a)(a)),a.checkValue=a.checkValue.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/authenticate").then(function(e){return e.json()}).then(function(t){t?(e.setState({Username:sessionStorage.username}),e.setState({UserID:sessionStorage.userID}),"/editpage"===e.props.location.pathname&&(e.setState({recipeDetails:e.props.location.recipeDetails}),e.setState({PrepTime:e.state.recipeDetails.preptime,CookTime:e.state.recipeDetails.cooktime,Servings:e.state.recipeDetails.servings,MealType:e.state.recipeDetails.mealtype,RecipeTitle:e.state.recipeDetails.recipetitle,RecipeID:e.state.recipeDetails.recipeid,RecipeDescription:e.state.recipeDetails.description,RecipeIngredients:e.state.recipeDetails.ingredients.join("**"),RecipeDirections:e.state.recipeDetails.directions.join("**")}))):e.props.history.push("/loginpage")}).catch(function(e){console.log("Error: "+e)})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.checkValue();if(null===this.state.PhotoUpload&&"/editpage"!==this.props.location.pathname&&this.setState({ImageWarning:"Please select a file to upload"}),!0===a){var n=this.state.RecipeDescription;'"'!==n[0]&&'"'!==n[n.length-1]&&(n='"'+n+'"');var s=new FormData;s.append("file",this.state.PhotoUpload),s.append("Creator",this.state.UserID),s.append("Username",this.state.Username),s.append("PrepTime",this.state.PrepTime),s.append("CookTime",this.state.CookTime),s.append("Servings",this.state.Servings),s.append("MealType",this.state.MealType),s.append("RecipeTitle",this.state.RecipeTitle),s.append("RecipeDescription",n),s.append("RecipeIngredients",this.state.RecipeIngredients),s.append("RecipeDirections",this.state.RecipeDirections),s.append("RecipeID",this.state.RecipeID);var i={method:"",body:s};"/editpage"!==this.props.location.pathname?(i.method="POST",fetch("/createRecipe",i).then(function(e){t.props.history.push({pathname:"/",username:t.state.Username,userID:t.state.UserID})}).catch(function(e){console.log("Error: "+e)})):(i.method="PUT",fetch("/editPage",i).then(function(e){return e.json()}).then(function(e){t.props.history.push({pathname:"/recipepage/"+e.recipeid,username:t.state.Username,userID:t.state.UserID})}).catch(function(e){console.log("Error: "+e)}))}}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(d.a)({},t,a))}},{key:"handleImage",value:function(e){var t=this;e.preventDefault();var a=e.target.files[0],n=a.size,s=this.getExtensions(a.name);if("jpg"===s&&"png"!==s||"png"===s&&"jpg"!==s){var i=new Image;i.src=window.URL.createObjectURL(a),i.onload=function(){n/1024>5120?t.setState({ImageWarning:"The file size is too big, must be less then 5mb"}):i.width<960||i.height<960?t.setState({ImageWarning:"The file width or height is too small"}):t.setState({PhotoUpload:a,ImageWarning:""})}}else this.setState({ImageWarning:"The selected file must be a jpg or png"})}},{key:"getExtensions",value:function(e){return e.split(".").pop()}},{key:"checkValue",value:function(){for(var e=Object.keys(this.state),t=11,a=0;a<11;a++){var n="Boolean"+e[a],s={};null===this.state[e[a]]||""===this.state[e[a]]?("PhotoUpload"===e[a]&&"/editpage"===this.props.location.pathname?s[n]=!0:(s[n]=!1,t-=1),this.setState(s)):(s[n]=!0,this.setState(s))}return 11===t}},{key:"render",value:function(){return s.a.createElement("div",{className:"Create-Recipe-Container"},s.a.createElement("form",{className:"Create-Recipe-Form",onSubmit:this.handleSubmit,encType:"multipart/form-data"},s.a.createElement("div",{className:"Left-Container"},s.a.createElement("div",{className:"Recipe-Photo"},s.a.createElement("label",{className:"Camera-Icon"},s.a.createElement("input",{id:"Photo-Upload",type:"file",name:"PhotoUpload",accept:"image/png, image/jpeg",onChange:this.handleImage})),s.a.createElement("span",{className:"Recipe-Photo-Size"},"(no smaller than 960 x 960)")),s.a.createElement(L,{ImageWarning:this.state.ImageWarning}),s.a.createElement("ul",{className:"Create-Recipe-Stats"},s.a.createElement("li",{className:"PrepTime-Label"},s.a.createElement("label",{htmlFor:"PrepTime"},"Prep Time"),this.state.BooleanPrepTime?"":s.a.createElement("span",{className:"Requirement"},this.state.Required),s.a.createElement("input",{id:"Prep-Time",type:"text",name:"PrepTime",maxLength:"25",value:this.state.PrepTime,onChange:this.handleChange})),s.a.createElement("li",{className:"CookTime-Label"},s.a.createElement("label",{htmlFor:"CookTime"},"Cook Time"),this.state.BooleanCookTime?"":s.a.createElement("span",{className:"Requirement"},this.state.Required),s.a.createElement("input",{id:"Cook-Time",name:"CookTime",type:"text",maxLength:"25",value:this.state.CookTime,onChange:this.handleChange})),s.a.createElement("li",{className:"Servings-Label"},s.a.createElement("label",{htmlFor:"Servings"},"Number Of Servings"),this.state.BooleanServings?"":s.a.createElement("span",{className:"Requirement"},this.state.Required),s.a.createElement("input",{id:"Servings",name:"Servings",type:"text",maxLength:"25",value:this.state.Servings,onChange:this.handleChange})),s.a.createElement("li",{className:"Meal-Type-Option"},s.a.createElement("label",null,s.a.createElement("div",{className:"Meal-Type-Title-Container"},s.a.createElement("p",{className:"Meal-Type-Title"},"Meal Type"),this.state.BooleanMealType?"":s.a.createElement("span",{className:"Requirement"},this.state.Required)),s.a.createElement("div",{className:"Options"},s.a.createElement("label",null,s.a.createElement("input",{id:"Breakfast-Option",type:"radio",name:"MealType",value:"Breakfast",checked:"Breakfast"===this.state.MealType?"checked":"",onChange:this.handleChange}),"Breakfast"),s.a.createElement("label",null,s.a.createElement("input",{id:"Lunch-Option",type:"radio",name:"MealType",value:"Lunch",checked:"Lunch"===this.state.MealType?"checked":"",onChange:this.handleChange}),"Lunch"),s.a.createElement("label",null,s.a.createElement("input",{id:"Dinner-Option",type:"radio",name:"MealType",value:"Dinner",checked:"Dinner"===this.state.MealType?"checked":"",onChange:this.handleChange}),"Dinner"),s.a.createElement("label",null,s.a.createElement("input",{id:"Dessert-Option",type:"radio",name:"MealType",value:"Dessert",checked:"Dessert"===this.state.MealType?"checked":"",onChange:this.handleChange}),"Dessert")))))),s.a.createElement("div",{className:"Right-Container"},s.a.createElement("ul",{className:"Create-Recipe-Info"},s.a.createElement("li",{className:"Info-Label"},s.a.createElement("label",{htmlFor:"RecipeTitle"},"Recipe Title"),this.state.BooleanRecipeTitle?"":s.a.createElement("span",{className:"Requirement"},this.state.Required),s.a.createElement("input",{id:"Recipe-Title",name:"RecipeTitle",type:"text",maxLength:"45",value:this.state.RecipeTitle,onChange:this.handleChange})),s.a.createElement("li",{className:"Info-Label"},s.a.createElement("label",{htmlFor:"RecipeDescription"},"Description "),this.state.BooleanRecipeDescription?"":s.a.createElement("span",{className:"Requirement"},this.state.Required),s.a.createElement("textarea",{id:"Recipe-Description",name:"RecipeDescription",type:"text",value:this.state.RecipeDescription,onChange:this.handleChange})),s.a.createElement("li",{className:"Info-Label"},s.a.createElement("label",{htmlFor:"RecipeIngredients"},"Ingredients"),this.state.BooleanRecipeIngredients?"":s.a.createElement("span",{className:"Requirement"},this.state.Required),s.a.createElement("textarea",{id:"Recipe-Ingredients",name:"RecipeIngredients",type:"text",value:this.state.RecipeIngredients,placeholder:"Please add ** at the end of every sentence/point",onChange:this.handleChange})),s.a.createElement("li",{className:"Info-Label"},s.a.createElement("label",{htmlFor:"RecipeDirections"},"Directions"),this.state.BooleanRecipeDirections?"":s.a.createElement("span",{className:"Requirement"},this.state.Required),s.a.createElement("textarea",{id:"Recipe-Directions",name:"RecipeDirections",type:"text",value:this.state.RecipeDirections,placeholder:"Please add ** at the end of every sentence/point",onChange:this.handleChange})))),s.a.createElement("div",{className:"Submit-Container"},s.a.createElement("input",{className:"Submit-Recipe-Button",type:"submit",value:"/editpage"===this.props.location.pathname?"Update Recipe":"Submit Recipe",onSubmit:this.handleSubmit}),s.a.createElement(c.b,{to:{pathname:"/",username:this.state.Username,userID:this.state.UserID},className:"Cancel"},s.a.createElement("span",null,"Cancel")))))}}]),t}(s.a.Component)),G=Object(l.g)(Y),_=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Site-Content"},s.a.createElement(P,null),s.a.createElement(G,null))}}]),t}(s.a.Component),H=(a(49),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={recipeDetails:{},recipeIngredients:[],recipeDirections:[]},a.addToFavorites=a.addToFavorites.bind(Object(g.a)(a)),a.deleteRecipe=a.deleteRecipe.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.recipeid;fetch("/getRecipe/"+t).then(function(e){return e.json()}).then(function(t){t.rows[0].ingredients=t.rows[0].ingredients.split("**"),t.rows[0].directions=t.rows[0].directions.split("**"),t.rows[0].ingredients=t.rows[0].ingredients.filter(function(e){return""!==e}),t.rows[0].directions=t.rows[0].directions.filter(function(e){return""!==e}),e.setState({recipeDetails:t.rows[0],recipeIngredients:t.rows[0].ingredients,recipeDirections:t.rows[0].directions})}).catch(function(e){console.log(e)})}},{key:"addToFavorites",value:function(e){e.preventDefault();var t={recipeid:this.props.match.params.recipeid,accountid:sessionStorage.userID},a={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json;charset=utf-8"}};fetch("/addFavorite",a).then(function(e){return e.json()}).then(function(e){}).catch(function(e){console.log(e)})}},{key:"deleteRecipe",value:function(e){}},{key:"render",value:function(){return s.a.createElement("div",{className:"Site-Content"},s.a.createElement(P,null),s.a.createElement("div",{className:"Recipe-Page-Container"},s.a.createElement("div",{className:"Recipe-Summary-Container"},s.a.createElement("section",{className:"Recipe-Summary"},s.a.createElement("div",{className:"Title-Container"},sessionStorage.username===this.state.recipeDetails.username?s.a.createElement("img",{className:"Delete-Recipe",onClick:this.deleteRecipe,title:"Delete recipe",src:"https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-windows-metro-26.png?alt=media&token=797f2c43-4c03-4307-b5e9-e660ea439358"}):null,s.a.createElement("h1",{className:"Recipe-Page-Title"},this.state.recipeDetails.recipetitle),sessionStorage.username?s.a.createElement("img",{className:"Registered-User-Options",onClick:this.addToFavorites,title:"Add to favorites",src:"https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-plus-24.png?alt=media&token=dbddc595-5dd4-43d2-9e6e-9bb227552361"}):null,sessionStorage.username===this.state.recipeDetails.username?s.a.createElement(c.b,{to:{pathname:"/editpage",username:sessionStorage.username,userID:sessionStorage.userID,recipeDetails:this.state.recipeDetails}},s.a.createElement("img",{className:"Registered-User-Options",id:"Edit-Your-Recipe",title:"Edit your recipe",src:"https://firebasestorage.googleapis.com/v0/b/recipeshare-c27e5.appspot.com/o/icons8-edit-40.png?alt=media&token=8b38d508-1011-4c65-b017-2ca5248bfdd6"})):null),s.a.createElement("p",null,s.a.createElement("span",{className:"Recipe-By"},"Recipe by "),s.a.createElement("span",{className:"Recipe-Page-Creator"},this.state.recipeDetails.username)),s.a.createElement("div",{className:"Recipe-Page-Description"},this.state.recipeDetails.description)),s.a.createElement("section",{className:"Recipe-Image-Container"},s.a.createElement("img",{className:"Recipe-Page-Image",src:this.state.recipeDetails.image}))),s.a.createElement("div",{className:"Recipe-Ingredients-Container"},s.a.createElement("h2",{className:"Recipe-Section-Title"},"Ingredients"),s.a.createElement("ul",{className:"Recipe-Section-Text"},this.state.recipeIngredients.map(function(e,t){return s.a.createElement("li",{className:"Recipe-Section-li",key:e+(t+1)},e)}))),s.a.createElement("div",{className:"Recipe-Directions-Container"},s.a.createElement("h2",{className:"Recipe-Section-Title"},"Directions"),s.a.createElement("ul",{className:"Recipe-Section-Text",id:"Recipe-Page-Directions"},s.a.createElement("ul",{className:"Information-Tab"},s.a.createElement("li",{className:"Info-Tab-PrepTime"},s.a.createElement("p",{className:"Info-Tab-Label"},"Prep Time"),s.a.createElement("span",null,this.state.recipeDetails.preptime)),s.a.createElement("li",{className:"Info-Tab-CookTime"},s.a.createElement("p",{className:"Info-Tab-Label"},"Cook Time"),s.a.createElement("span",null,this.state.recipeDetails.cooktime)),s.a.createElement("li",{className:"Info-Tab-Servings"},s.a.createElement("p",{className:"Info-Tab-Label"},"Servings"),s.a.createElement("span",null,this.state.recipeDetails.servings))),this.state.recipeDirections.map(function(e,t){return s.a.createElement("li",{className:"Recipe-Section-li",key:e+(t+1)},e)})))))}}]),t}(s.a.Component)),K=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Site-Content"},s.a.createElement(P,null),s.a.createElement(U,null))}}]),t}(s.a.Component),Q=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Site-Content"},s.a.createElement(P,null),s.a.createElement(G,null))}}]),t}(s.a.Component),X=a(29);var Z=function(e){var t=e.component,a=Object(X.a)(e,["component"]);return s.a.createElement(l.b,Object.assign({},a,{render:function(e){return!0===(""!==sessionStorage.username&&void 0!==sessionStorage.username&&null!==sessionStorage.username)?s.a.createElement(t,e):s.a.createElement(l.a,{to:{pathname:"/loginpage",state:{from:e.location}}})}}))},$=s.a.createElement(c.a,null,s.a.createElement("div",null,s.a.createElement(l.d,null,s.a.createElement(l.b,{exact:!0,path:"/",component:x}),s.a.createElement(l.b,{path:"/loginpage",component:q}),s.a.createElement(l.b,{path:"/registerpage",component:z}),s.a.createElement(l.b,{path:"/recipepage/:recipeid",component:H}),s.a.createElement(Z,{path:"/favoritepage",component:J}),s.a.createElement(Z,{path:"/createrecipe",component:_}),s.a.createElement(Z,{path:"/createdpage",component:K}),s.a.createElement(Z,{path:"/editpage",component:Q}))));r.a.render($,document.getElementById("root"))}],[[30,1,2]]]);
//# sourceMappingURL=main.94521b5f.chunk.js.map